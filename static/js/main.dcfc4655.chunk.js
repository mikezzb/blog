(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},386:function(e,t,n){},403:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n.n(c),r=n(83),s=n(9),i=n(8),o=n.n(i),l=(n(108),n(18)),u=n(6),d=n(7),j=n(1),b=n(22),m=n(26),g=(n(109),"users/"),p="comments/",O="blogs/",h="".concat(p,"add"),f="".concat(p,"deleteAll"),x="".concat(p,"delete"),v="".concat(g,"login"),N="".concat(g,"add"),y="".concat(O,"delete"),w="".concat(O,"add"),k=O,L="BLOG_LOADING",I="LOAD_BLOG_SUCCESS",A="ALL_LOADED",S="ADD_POST",C="DELETE_POST",T="UPDATE_POST";function R(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:L,isLoading:e}}function _(e){return{type:I,posts:e}}function U(e){return{type:C,id:e}}var P,E=function(e){return"".concat(e.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g," ")," ").concat(D(e.getHours()),":").concat(D(e.getMinutes()))},D=function(e){return e>9?"".concat(e):"0".concat(e)},M=n(2),z=Object(s.b)((function(e){return{blog:e.blog,user:e.user}}),(function(e){return{deletePost:function(t){e(U(t))}}}))((function(e){var t=Object(u.g)().id,n=Object(j.useState)([]),c=Object(d.a)(n,2),a=c[0],r=c[1],s=Object(j.useState)(""),i=Object(d.a)(s,2),l=i[0],m=i[1],g=function(){o.a.post("comments/",{article_id:t}).then((function(e){return r(e.data)})).catch((function(e){alert(e)}))};Object(j.useEffect)((function(){g(),window.scrollTo(0,0)}),[]);return Object(M.jsx)("div",{className:"replyBackground",children:Object(M.jsxs)("div",{className:"replyWrapper",children:[Object(M.jsx)("div",{className:"replyTag",children:"Replies:"}),a.map((function(t){return Object(M.jsx)("div",{style:{cursor:"auto",marginTop:"30px"},className:"blockWrapper reply",children:Object(M.jsxs)("div",{className:"blockInnerWrapper",style:{padding:"5px 8px"},children:[Object(M.jsxs)("div",{className:"author",children:[Object(M.jsx)("img",{className:"icon",src:t.userIcon,alt:"icon"}),Object(M.jsx)("p",{className:"authorName",children:t.username||"Anonymous"}),Object(M.jsx)("div",{className:"tagName",children:E(new Date(t.createdAt))}),t.username&&t.username===e.user.user.username&&Object(M.jsx)("div",{onClick:function(){return e=t._id,void o.a.post(x,{comment_id:e}).then((function(e){!0===e.data?g():alert(e.data)})).catch((function(e){alert("Please Login Before Comment \n".concat(e))}));var e},style:{cursor:"pointer",float:"right",width:"16px",height:"16px",marginLeft:"auto",marginTop:"10px"},children:Object(M.jsx)(b.c,{})})]}),Object(M.jsx)("div",{className:"blockContent",style:{margin:"10px 7px",maxHeight:"none",textOverflow:"clip",whiteSpace:"normal",overflow:"visible"},children:t.content})]})})})),Object(M.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={content:l,username:e.user.user.username,userIcon:e.user.user.iconURL,article_id:t};o.a.post(h,c).then((function(){m(""),g()})).catch((function(e){alert(e)}))},children:[Object(M.jsx)("div",{className:"form-group",style:{width:"100%"},children:Object(M.jsx)("textarea",{required:!0,className:"form-control",placeholder:"Your Reply",value:l,onChange:function(e){return m(e.target.value)},style:{flexGrow:1,minHeight:"60px"}})}),Object(M.jsx)("div",{className:"form-group-submit",style:{width:"100%"},children:Object(M.jsx)("input",{type:"submit",value:"Submit",className:"submitButton"})})]})]})})})),G=(n(112),n(113),n(114),n(64)),B=n.n(G),W=n(65),Y=n.n(W),V=n(66),H=n.n(V),J=n(67),q=n.n(J),F=n(68),K=n.n(F),X=n(69),Q=n.n(X),Z=n(70),$=n.n(Z),ee=n(71),te=n.n(ee),ne=n(72),ce=n.n(ne),ae=n(73),re=n.n(ae),se=n(39),ie=n.n(se),oe=(n(383),new B.a({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&ie.a.getLanguage(t))try{return ie.a.highlight(t,e).value}catch(n){console.warn(n)}return""}}).use(Y.a).use(H.a).use(q.a).use(K.a).use(Q.a).use($.a).use(te.a).use(ce.a).use(re.a)),le=n(23),ue=n(24),de=n.n(ue),je=n(27),be=n(4),me=n(74),ge=n.n(me),pe=n(11),Oe=n.n(pe);n(385),n(386);!function(e){e[e.PLAYGROUND=0]="PLAYGROUND",e[e.LEARNING=1]="LEARNING",e[e.ACG=2]="ACG",e[e.TIME_MACHINE=3]="TIME_MACHINE",e[e.INITIAL=4]="INITIAL",e[e.MY_POST=5]="MY_POST"}(P||(P={}));var he,fe,xe,ve=[{value:"title",placeholder:"Title"},{value:"tags",placeholder:"Tags (Optional)"},{value:"category",placeholder:"Set category (0-4) (Optional)",type:"number"},{value:"backgroundURL",placeholder:"Cover image URL (Optional)"}],Ne=Object(s.b)((function(e){return{user:e.user.user}}),(function(e){return{addPost:function(t){e(function(e){return{type:S,post:e}}(t))},updatePost:function(t){e(function(e){return{type:T,post:e}}(t))}}}))((function(e){var t=Object(u.f)(),n=Object(j.useRef)({}),c=Object(j.useState)(!1),a=Object(d.a)(c,2),r=a[0],s=a[1],i=Object(j.useReducer)((function(e,t){return Object(be.a)(Object(be.a)({},e),t)}),{title:"",tags:"",category:"",backgroundURL:""}),l=Object(d.a)(i,2),b=l[0],g=l[1],p=function(){var t=Object(je.a)(de.a.mark((function t(){var n,c,a;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Oe.a.get("blogSaved"),c=n?JSON.parse(n):null,(e.selectedArticle||c)&&(a=e.selectedArticle||c,g({title:a.title,tags:a.tags,category:a.category,backgroundURL:a.backgroundURL}),s(Boolean(e.selectedArticle)));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(j.useEffect)((function(){p()}),[e.selectedArticle]);var O=function(c){c.preventDefault();var a=b;a.content=n.current.getMdValue(),a.username=e.user.username,a.userIcon=e.user.iconURL,a.category=a.category||P.PLAYGROUND,r?o.a.put("".concat("blogs/").concat(e.selectedArticle._id),a).then((function(){Oe.a.remove("blogSaved"),e.updatePost(Object(be.a)(Object(be.a)({},a),{},{_id:e.selectedArticle._id}))})).catch((function(e){alert(e)})):o.a.post(w,a).then((function(t){Oe.a.remove("blogSaved"),e.addPost(t.data)})).catch((function(e){alert(e)})),t.push("/")},h=window.matchMedia&&window.matchMedia("(max-width: 1260px)").matches;return Object(M.jsxs)("div",{className:"edit-page-container",children:[Object(M.jsx)("header",{className:"header edit-page",children:Object(M.jsxs)("div",{className:"headerWrapper edit-page",children:[Object(M.jsx)(m.a,{className:"back-icon",onClick:function(){return e.goBack?e.goBack():t.goBack()}}),Object(M.jsxs)("nav",{className:"navSession flex-row",children:[Object(M.jsx)("div",{className:"navItemContainer",onClick:function(){g({}),n.current.setText("")},children:Object(M.jsx)("span",{className:"navItem",children:"Reset"})}),Object(M.jsx)("div",{className:"navItemContainer",onClick:function(){var t=b;t.username=e.user.username,t.content=n.current.getMdValue(),t.category=t.category||P.PLAYGROUND,Oe.a.set("blogSaved",t,{expires:3}),alert("Saved as Draft!")},children:Object(M.jsx)("span",{className:"navItem",children:"Save"})}),Object(M.jsx)("div",{className:"navItemContainer",onClick:O,children:Object(M.jsx)("span",{className:"navItem",children:"Submit Post"})})]})]})}),Object(M.jsxs)("section",{className:"section-container",children:[Object(M.jsx)("form",{onSubmit:function(e){return O(e)},style:{},children:ve.map((function(e){return Object(M.jsx)("div",{className:"inputFormWrapper",children:Object(M.jsx)("input",{type:e.type||"text",required:!0,className:"form-control",placeholder:e.placeholder,value:b[e.value],onChange:function(t){return g(Object(le.a)({},e.value,t.target.value))}})},e.value)}))}),Object(M.jsx)(ge.a,{ref:n,defaultValue:e.selectedArticle&&e.selectedArticle.content||JSON.parse(Oe.a.get("blogSaved")||"null")&&JSON.parse(Oe.a.get("blogSaved")||"null").content||"Content",renderHTML:function(e){return new Promise((function(t){setTimeout((function(){t(oe.render(e))}),1e3)}))},config:{view:{menu:!0,md:!0,html:!h},imageUrl:"https://octodex.github.com/images/minion.png"}})]})]})})),ye=n(28),we=n(29),ke=we.a.div(fe||(fe=Object(ye.a)(["\n  position: relative;\n  margin: 40vh auto;\n  width: 64px;\n  height: 64px;\n"]))),Le=we.a.div(xe||(xe=Object(ye.a)(["\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: ",";\n  height: ",";\n  margin: 6px;\n  border: 6px solid ",";\n  border-radius: 50%;\n  animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: "," transparent transparent transparent;\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n"])),(function(e){return"".concat(e.size).concat(e.sizeUnit)}),(function(e){return"".concat(e.size).concat(e.sizeUnit)}),(function(e){return e.color}),(function(e){return Object(we.b)(he||(he=Object(ye.a)(["\n  0% {\n      transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"])))}),(function(e){return e.color})),Ie=function(e){var t=e.color,n=e.size,c=e.sizeUnit;return Object(M.jsx)(ke,{children:Object(M.jsx)(Le,{color:t,size:n,sizeUnit:c})})};Ie.defaultProps={size:50,color:"#009cd8",sizeUnit:"px"};var Ae=Ie,Se=n(78),Ce=n(79),Te="DISPLAY_LOGIN",Re="LOG_OUT";function _e(e){return{type:Te,user:e}}var Ue=Object.freeze({WRONG_PASSWORD:0,USER_DNE:1}),Pe=Object(s.b)(null,(function(e){return{displayLogin:function(t){e(_e(t))}}}))((function(e){var t=e.displayLogin,n=e.handler,c=Object(j.useState)(!1),a=Object(d.a)(c,2),r=a[0],s=a[1],i=Object(j.useReducer)((function(e,t){return Object(be.a)(Object(be.a)({},e),t)}),{email:"",password:"",username:"",iconURL:""}),l=Object(d.a)(i,2),u=l[0],b=l[1],m=r?"Not having an account? ":"Got an account? ",g=r?"Log in":"Sign up",p=[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"text",required:!0,className:"form-control",placeholder:"Username",value:u.username,onChange:function(e){return b({username:e.target.value})},style:{flexGrow:1}})},"usernameInputField")],O=[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"string",className:"form-control",placeholder:"User Icon URL (optional)",value:u.iconURL,onChange:function(e){return b({iconURL:e.target.value})},style:{flexGrow:1}})})];return Object(M.jsx)("div",{className:"loginWrapper",children:Object(M.jsxs)("div",{className:"loginCard",children:[Object(M.jsxs)("div",{className:"divider",children:[Object(M.jsx)("div",{className:"tagLogin",children:g}),Object(M.jsx)("div",{className:"crossIcon",onClick:function(){return n()},style:{cursor:"pointer"},children:"X"})]}),Object(M.jsxs)("form",{onSubmit:function(e){var c;e.preventDefault(),c=r?{email:u.email,password:u.password}:Object(be.a)({},u),o.a.post(r?v:N,c).then((function(e){var n=e.data;r?n===Ue.WRONG_PASSWORD||n===Ue.USER_DNE?alert(n===Ue.WRONG_PASSWORD?"Wrong Password":"Email account does not exist"):(n=JSON.parse(n),Oe.a.set("loggedInUser",n,{expires:1}),t(n),alert("Logged in as ".concat(n.username))):(Oe.a.set("loggedInUser",n,{expires:1}),t(n),alert("Sign up successfully as ".concat(n.username)))})).catch((function(e){alert(e)})),b({email:"",password:"",username:"",iconURL:""}),n()},style:{},children:[r?null:p," ",Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"email",required:!0,className:"form-control",placeholder:"Email",value:u.email,onChange:function(e){return b({email:e.target.value})},style:{flexGrow:1}})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"password",required:!0,className:"form-control",placeholder:"Password",value:u.password,onChange:function(e){return b({password:e.target.value})},style:{flexGrow:1}})}),r?null:O," ",Object(M.jsx)("div",{className:"form-group-submit",children:Object(M.jsx)("input",{type:"submit",value:g,className:"submitButton"})}),Object(M.jsxs)("div",{className:"switchLogin",children:[Object(M.jsx)("p",{children:"".concat(m," ")}),Object(M.jsx)("div",{className:"clickMe",onClick:function(){return s(!r)},children:"Click me >.<"})]})]})]})})}));n(403);function Ee(e){var t=e.isArticle,n=e.tag,c=e.children,a=e.icon;return Object(M.jsxs)("div",{className:"author ".concat(t?" article":""),children:[Object(M.jsx)("img",{className:"icon",src:a,alt:"icon"}),Object(M.jsx)("p",{className:"authorName",children:c}),n&&n.split(",").map((function(e){return Object(M.jsx)("div",{className:"tagName",children:e},e)}))]})}function De(e){var t=e.icon,n=e.isArticle,c=e.tag,a=e.username,r=e.children;return Object(M.jsxs)("div",{className:"titleWrapper",children:[Object(M.jsx)(Ee,{icon:t,isArticle:n,tag:c,children:a}),Object(M.jsx)("div",{className:"title",children:r})]})}var Me=["linear-gradient(112.52858610298631deg, rgba(37, 46, 58,1) 4.927083333333334%,rgba(71, 84, 99,1) 97.84374999999999%)","linear-gradient(-244.39781244855823deg, rgba(42, 39, 107,1) -1.7083333333333144%,rgba(186, 213, 241,1) 95.79166666666667%)","linear-gradient(114.44637446788136deg, rgba(167, 204, 225,1) 4.927083333333334%,rgba(236, 246, 237,1) 97.84374999999999%)","linear-gradient(-244.5986685971718deg, rgba(246, 190, 212,1) 18.22265625%,rgba(249, 231, 148,1) 94.07552083333333%)"],ze=function(e){return Me[e]},Ge=["All","Playground","Learning","ACG","Time Machine"],Be=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{displayLogin:function(t){e(_e(t))}}}))((function(e){var t=Object(j.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],r=Object(j.useState)(!1),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(j.useState)(0),u=Object(d.a)(l,2),b=u[0],m=u[1],g=Object(j.useReducer)((function(e,t){return Object.keys(e).reduce((function(e,n){return Object(be.a)(Object(be.a)({},e),{},Object(le.a)({},n,t===n))}),{})}),{all:!0}),p=Object(d.a)(g,2),O=p[0],h=p[1],f=function(t,n){e.updateCategory("All"===n?P.INITIAL:t-1),o(!1)},x=function(){var e=document.body.scrollTop||document.documentElement.scrollTop;m(e)},v=function(){return Ge.map((function(e,t){return Object(M.jsx)("div",{className:O[e]?"navItemContainerClicked":"navItemContainer",onClick:function(){return[h(e),f(t,e)]},children:Object(M.jsx)("span",{className:"navItem",children:e})},e)}))};return Object(j.useEffect)((function(){e.isArticleView&&window.addEventListener("scroll",x);var t=Oe.a.get("loggedInUser");if(null!=t){var n=JSON.parse(t);e.displayLogin(n)}return function(){return window.removeEventListener("scroll",x)}}),[]),e.isArticleView?Object(M.jsxs)("header",{className:"header",style:{position:"relative"},children:[Object(M.jsx)("div",{className:"backgroundArticle",style:""===e.selectedArticle.backgroundURL?{background:ze(e.selectedArticle.category)}:{backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3) ), url(".concat(e.selectedArticle.backgroundURL,")")}}),Object(M.jsx)("div",{className:"articleNavBackground".concat(b>400?" short":"")}),Object(M.jsx)("div",{className:"headerWrapper",children:Object(M.jsx)(De,{icon:e.selectedArticle.userIcon,username:e.selectedArticle.username,isArticle:e.isArticleView,tag:e.selectedArticle.tags,children:e.selectedArticle.title})})]}):Object(M.jsxs)("div",{children:[Object(M.jsx)("header",{className:"header home",children:Object(M.jsxs)("div",{className:"headerWrapper",style:{},children:[Object(M.jsx)("div",{className:"logoWrapper",onClick:function(){e.user.loggedIn?e.userIconOnclick():(window.scrollTo(0,0),a(!0))},children:e.user.loggedIn?Object(M.jsx)("img",{src:e.user.user.iconURL,alt:e.user.user.username,className:"headerIcon",style:{cursor:"pointer"}}):Object(M.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Knockoff_Little_Totoro.svg",alt:"",className:"siteLogo",style:{cursor:"pointer"}})}),Se.isMobile?Object(M.jsx)(Ce.slide,{right:!0,noOverlay:!0,isOpen:i,onStateChange:function(e){return o(e.isOpen)},onClick:function(){return o(!1)},children:v()},"menu"):Object(M.jsx)("nav",{className:"navSession",children:v()})]})}),c?Object(M.jsx)(Pe,{handler:function(){return a(!1)}}):null]})})),We=Object(s.b)((function(e){return{blog:e.blog,user:e.user.user}}),(function(e){return{deletePost:function(t){e(U(t))}}}))((function(e){var t=Object(u.f)(),n=Object(u.g)().id,c=Object(j.useState)(!1),a=Object(d.a)(c,2),r=a[0],s=a[1],i=e.blog.posts.find((function(e){return e._id===n}));return r?Object(M.jsx)(Ne,{goBack:function(){return s(!1)},selectedArticle:i}):e.blog.loading?Object(M.jsx)(Ae,{}):Object(M.jsxs)("div",{className:"article",children:[Object(M.jsx)(Be,{updateCategory:e.updateCategory,goBack:e.goBack,isArticleView:!0,selectedArticle:i}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"article-header-stick",style:{width:"90%",color:"white"},children:[Object(M.jsx)(l.b,{to:"/",children:Object(M.jsx)(m.a,{style:{cursor:"pointer",zIndex:100,position:"relative",fontSize:"30px",marginTop:"12px"}})}),i.username===e.user.username&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(m.b,{onClick:function(){return s(!r)},style:{paddingLeft:"20px",float:"right",cursor:"pointer",color:"white",zIndex:100,fontSize:"25px",marginTop:"15px"}}),Object(M.jsx)(b.c,{onClick:function(){o.a.post(y,{article_id:n}).then((function(n){n.data?(t.push("/"),e.deletePost(n.data)):alert(n.data)})).catch((function(e){alert(e)})),o.a.post(f,{article_id:n}).then((function(){})).catch((function(e){console.warn(e)}))},style:{float:"right",cursor:"pointer",color:"white",zIndex:100,fontSize:"30px",marginTop:"12px"}})]})]}),Object(M.jsxs)("div",{className:"blog-container",children:[Object(M.jsx)("div",{className:"blog-body ".concat(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"markdown-body-dark":"markdown-body"),dangerouslySetInnerHTML:{__html:oe.render(i.content)}}),Object(M.jsx)(z,{})]})]})]})})),Ye=n(19),Ve=n(80),He=n.n(Ve),Je=n(81),qe=n(82),Fe={blog:{loading:!1,posts:[],loaded:!1},user:{loggedIn:!1,user:{}}};var Ke=Object(Ye.combineReducers)({blog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe.blog,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(be.a)(Object(be.a)({},e),{},{loading:t.isLoading});case I:return Object(be.a)(Object(be.a)({},e),{},{posts:e.posts.concat(t.posts),loading:!1});case A:return Object(be.a)(Object(be.a)({},e),{},{loaded:!0});case S:return Object(be.a)(Object(be.a)({},e),{},{posts:[t.post].concat(e.posts)});case T:return Object(be.a)(Object(be.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.post._id?Object(be.a)(Object(be.a)({},e),t.post):e}))});case C:return Object(be.a)(Object(be.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.id}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(be.a)(Object(be.a)({},e),{},{user:t.user,loggedIn:!0});case Re:return{state:e};default:return e}}}),Xe=Object(Ye.createStore)(Ke,Object(qe.composeWithDevTools)(Object(Ye.applyMiddleware)(Je.a,He()())));n(408);function Qe(e){var t=e.tag,n=e.date,c=e.icon,a=e.username,r=e.content,s=e.background,i=e.title,o=e.category,l="0"!==s&&""!==s;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("span",{children:[Object(M.jsx)(Ee,{tag:t,icon:c,isArticle:!1,children:a}),Object(M.jsx)("div",{className:"blockTitle",children:i}),Object(M.jsx)("div",{className:"blockContent",children:r.split(/\n/).map((function(e,t){return t<4&&""!==e&&"".concat(e.replace(/#|\*|!\[\]|>|^\s*\n/gm,"").replace(/^\s/m,""),"\n")}))}),Object(M.jsx)("span",{children:E(new Date(n))})]}),Object(M.jsx)("div",{className:"blockCover".concat(l?"":" noImage"),style:l?{backgroundPosition:"center",backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1) ), url(".concat(s,")")}:{background:ze(o)}},"".concat(n,"-").concat(i))]})}var Ze={dateBefore:"2030-05-17T12:18:08.801+00:00"},$e=Object(s.b)((function(e){return{blog:e.blog,user:e.user}}),(function(e){return{blogLoading:function(){e(R())},loadBlogSuccess:function(t){e(_(t))},allLoaded:function(){e(function(){return{type:A,loaded:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}())},logout:function(){e({type:Re})}}}))((function(e){var t=Object(j.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],r=Object(j.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],m=Object(j.useState)(P.INITIAL),g=Object(d.a)(m,2),p=g[0],O=g[1],h=function(){var t={dateBefore:e.blog.posts[e.blog.posts.length-1].createdAt};o.a.post(k,t).then((function(t){t.data&&t.data.length?e.loadBlogSuccess(t.data):(a(!0),e.allLoaded())})).catch((function(e){alert(e)}))},f=function(e,t){var n=Object(j.useRef)({fn:e,timer:null}).current;return Object(j.useEffect)((function(){n.fn=e}),[n,e]),Object(j.useCallback)((function(){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){n.fn.apply(n,arguments)}),t)}),[n,t])}((function(){document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight<=100&&(e.blog.loaded||h())}),500);Object(j.useEffect)((function(){var e;Xe.dispatch((e=Ze,function(){var t=Object(je.a)(de.a.mark((function t(n){var c;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(R()),t.prev=1,t.next=4,o.a.post(k,e);case 4:c=t.sent,n(_(c.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(R(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[]),Object(j.useEffect)((function(){return e.blog.loaded?(window.removeEventListener("scroll",f),a(!0)):e.blog.loading||window.addEventListener("scroll",f),function(){return window.removeEventListener("scroll",f)}}),[e.blog,f]);return Object(M.jsxs)("div",{children:[i&&Object(M.jsx)("div",{className:"userMenuContainer",children:Object(M.jsxs)("div",{className:"menuWrapper",children:[Object(M.jsx)(l.b,{to:"/edit",className:"menuItem",onClick:function(){u(!1)},children:"Add Post"},"Add Post"),Object(M.jsx)("div",{className:"menuItem",onClick:function(){O(p===P.MY_POST?P.INITIAL:P.MY_POST),u(!1)},children:"View My Posts"},"View My Posts"),Object(M.jsx)("div",{className:"menuItem",onClick:function(){e.logout(),O(P.INITIAL),Oe.a.remove("loggedInUser"),u(!1),alert("Logged out successfully!")},children:"Log Out"},"Log Out")]})}),Object(M.jsx)(Be,{updateCategory:O,isArticleView:!1,userIconOnclick:function(){return u(!i)}}),Object(M.jsx)("div",{className:"blockView",children:e.blog.loading?Object(M.jsx)(Ae,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"left blocks",children:e.blog.posts.filter((function(t){return p===t.category||p===P.INITIAL||p===P.MY_POST&&e.user.user&&e.user.user.username===t.username})).map((function(t){return Object(M.jsx)(l.b,{className:"blockWrapper",to:{pathname:"/article/".concat(t._id),index:e.blog.posts.findIndex((function(e){return e.createdAt===t.createdAt}))},children:Object(M.jsx)(Qe,{category:t.category,tag:t.tags,date:t.createdAt,icon:t.userIcon,username:t.username,content:t.content,background:t.backgroundURL,title:t.title},t.createdAt)},t._id)}))}),Object(M.jsxs)("div",{className:"right about",children:[Object(M.jsxs)("div",{className:"center top",children:[Object(M.jsx)("span",{className:"my-icon",onClick:function(){return window.open("https://mikezzb.github.io/")}}),Object(M.jsxs)("div",{className:"about text",children:[Object(M.jsx)("h3",{children:"Mike"}),Object(M.jsx)("p",{children:"Yet another human being"})]})]}),Object(M.jsx)("div",{className:"bottom",children:Object(M.jsxs)("div",{children:[Object(M.jsx)(b.a,{className:"social-media",onClick:function(){return window.open("https://github.com/mikezzb")}}),Object(M.jsx)(b.b,{className:"social-media",onClick:function(){return window.open("https://www.linkedin.com/in/mikezzb")}})]})})]})]})}),c&&Object(M.jsx)("div",{className:"end",children:"-END-"}),!c&&!e.blog.loading&&Object(M.jsx)("div",{className:"end",onClick:h,style:{cursor:"pointer"},children:"Load More"})]})})),et=function(){return Object(M.jsx)("div",{className:"app",children:Object(M.jsx)(l.a,{children:Object(M.jsxs)(u.c,{children:[Object(M.jsx)(u.a,{exact:!0,path:"/",children:Object(M.jsx)($e,{})}),Object(M.jsx)(u.a,{exact:!0,path:"/article/:id",children:Object(M.jsx)(We,{})}),Object(M.jsx)(u.a,{exact:!0,path:"/edit",children:Object(M.jsx)(Ne,{})})]})})})};o.a.defaults.baseURL="https://nhfxrk08p1.execute-api.ap-northeast-1.amazonaws.com/dev/",a.a.render(Object(M.jsx)(s.a,{store:Xe,children:Object(M.jsx)(et,{})}),document.getElementById("root"));var tt="".concat("/blog","/service-worker.js");Object(r.a)(tt)}},[[409,1,2]]]);
//# sourceMappingURL=main.dcfc4655.chunk.js.map