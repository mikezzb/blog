{"version":3,"sources":["store/blog/types.js","store/blog/actions.js","components/EditorView.js","components/Ring.js","store/user/types.js","store/user/actions.js","components/LoginView.js","components/Author.js","components/TitleView.js","functions/getGradient.js","components/HeaderView.js","components/CodeBlock.js","components/ArticleView.js","components/Block.js","components/BlockView.js","App.js","store/initialState.js","store/rootReducer.js","store/blog/reducer.js","store/user/reducer.js","index.js","store/Blog.js","store/index.js"],"names":["BLOG_LOADING","LOAD_BLOG_SUCCESS","ALL_LOADED","ADD_POST","DELETE_POST","UPDATE_POST","blogLoading","isLoading","type","types","loadBlogSuccess","posts","connect","state","user","dispatch","addPost","post","actions","updatePost","props","history","useHistory","mdEditor","useRef","mdParser","MarkdownIt","html","linkify","typographer","highlight","str","lang","hljs","getLanguage","value","__","use","emoji","subscript","superscript","footnote","deflist","abbreviation","insert","mark","tasklists","useState","editing","setEditing","useReducer","action","title","tags","category","backgroundURL","blogData","setBlogData","init","a","raw","Cookies","get","blogSaved","JSON","parse","selectedArticle","preloadArticle","Boolean","useEffect","handleGetMdValue","e","preventDefault","blog","content","current","getMdValue","username","userIcon","iconURL","url","_id","axios","put","then","res","remove","catch","error","alert","data","push","isMobile","window","matchMedia","matches","style","minHeight","className","height","marginTop","onClick","goBack","position","fontSize","float","marginRight","setText","set","expires","alignContent","paddingTop","onSubmit","required","placeholder","onChange","target","ref","defaultValue","renderHTML","text","Promise","resolve","setTimeout","render","config","view","menu","md","imageUrl","Wrapper","styled","div","RingSpinner","p","size","sizeUnit","color","keyframes","Ring","defaultProps","DISPLAY_LOGIN","LOG_OUT","displayLogin","ERRORS","Object","freeze","WRONG_PASSWORD","USER_DNE","handler","isLogin","setIsLogin","email","password","form","dispatchForm","switchMessage","switchLabel","usernameField","flexGrow","iconURLField","cursor","serverResponse","Author","isArticle","tag","children","icon","src","alt","split","map","TitleView","date","GRADIENT","getGradient","index","navTags","isArticleView","setDisplayLogin","menuOpen","setMenuOpen","scrollPosition","setScrollPosition","active","keys","reduce","result","nav","all","navClicked","setNavClicked","tagOnclick","updateCategory","listenToScroll","winScroll","document","body","scrollTop","documentElement","NavElements","addEventListener","userString","removeEventListener","background","backgroundImage","createdAt","loggedIn","userIconOnclick","scrollTo","right","noOverlay","isOpen","onStateChange","CodeBlock","language","theme","darcula","github","dataFormatting","n","Markdown","PropTypes","string","isRequired","Image","maxWidth","ownProps","deletePost","id","selectedArticleID","useParams","comments","setComments","commentInput","setCommentInput","loadComments","article_id","find","loading","articleIndex","findIndex","width","to","zIndex","paddingLeft","console","warn","escapeHtml","renderers","code","image","source","whiteSpace","comment","padding","Date","toLocaleDateString","day","month","year","replace","getHours","getMinutes","comment_id","marginLeft","margin","maxHeight","textOverflow","overflow","disabled","toDDMMMYYYY","Block","hasCover","backgroundPosition","i","allLoaded","loaded","ended","setEnded","displayUserIconMenu","setDisplayUserIconMenu","setCategory","scrollHeight","clientHeight","skipJSON","dateBefore","length","mode","logout","cookies","filter","pathname","postItem","exact","path","rootReducer","combineReducers","initialState","concat","defaults","baseURL","store","createStore","composeWithDevTools","applyMiddleware","thunk","reduxImmutableStateInvariant","log","ReactDOM","getElementById","register"],"mappings":"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","file":"static/js/main.2352fa84.chunk.js","sourcesContent":["/**\n * Blog Types\n */\nexport const BLOG_LOADING = 'BLOG_LOADING';\nexport const LOAD_BLOG_SUCCESS = 'LOAD_BLOG_SUCCESS';\nexport const ALL_LOADED = 'ALL_LOADED';\nexport const ADD_POST = 'ADD_POST';\nexport const DELETE_POST = 'DELETE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\n","/**\n * Blog Actions\n */\nimport * as types from './types';\n\nexport function blogLoading(isLoading = true) {\n  return { type: types.BLOG_LOADING, isLoading };\n}\nexport function loadBlogSuccess(posts) {\n  return { type: types.LOAD_BLOG_SUCCESS, posts };\n}\nexport function allLoaded(loaded = true) {\n  return { type: types.ALL_LOADED, loaded };\n}\n\nexport function addPost(post) {\n  return { type: types.ADD_POST, post };\n}\n\nexport function updatePost(post) {\n  return { type: types.UPDATE_POST, post };\n}\n\nexport function deletePost(id) {\n  return { type: types.DELETE_POST, id };\n}\n","import React, {\r\n  useState, useRef, useEffect, useReducer\r\n} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport MdEditor from 'react-markdown-editor-lite';\r\nimport MarkdownIt from 'markdown-it';\r\nimport emoji from 'markdown-it-emoji';\r\nimport subscript from 'markdown-it-sub';\r\nimport superscript from 'markdown-it-sup';\r\nimport footnote from 'markdown-it-footnote';\r\nimport deflist from 'markdown-it-deflist';\r\nimport abbreviation from 'markdown-it-abbr';\r\nimport insert from 'markdown-it-ins';\r\nimport mark from 'markdown-it-mark';\r\nimport tasklists from 'markdown-it-task-lists';\r\nimport hljs from 'highlight.js';\r\nimport 'highlight.js/styles/atom-one-light.css';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n// import 'highlight.js/styles/github.css'\r\nimport 'react-markdown-editor-lite/lib/index.css';\r\nimport { connect } from 'react-redux';\r\nimport { FiArrowLeft } from 'react-icons/fi';\r\nimport * as actions from '../store/blog/actions';\r\n\r\nconst EditorView = props => {\r\n  const history = useHistory();\r\n  const mdEditor = useRef({});\r\n  const mdParser = new MarkdownIt({\r\n    html: true,\r\n    linkify: true,\r\n    typographer: true,\r\n    highlight(str, lang) {\r\n      if (lang && hljs.getLanguage(lang)) {\r\n        try {\r\n          return hljs.highlight(lang, str).value;\r\n        }\r\n        catch (__) {}\r\n      }\r\n      return '';\r\n    },\r\n  })\r\n    .use(emoji)\r\n    .use(subscript)\r\n    .use(superscript)\r\n    .use(footnote)\r\n    .use(deflist)\r\n    .use(abbreviation)\r\n    .use(insert)\r\n    .use(mark)\r\n    .use(tasklists);\r\n\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  const [blogData, setBlogData] = useReducer(\r\n    (state, action) => ({ ...state, ...action }),\r\n    {\r\n      title: '',\r\n      tags: '',\r\n      category: null,\r\n      backgroundURL: '',\r\n    }\r\n  );\r\n\r\n  const renderHTML = text =>\r\n    new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(mdParser.render(text));\r\n      }, 1000);\r\n    });\r\n\r\n  const init = async () => {\r\n    const raw = Cookies.get('blogSaved' || '');\r\n    const blogSaved = raw ? JSON.parse(raw) : null;\r\n    if (props.selectedArticle || blogSaved) {\r\n      const preloadArticle = props.selectedArticle || blogSaved;\r\n      setBlogData({\r\n        title: preloadArticle.title,\r\n        tags: preloadArticle.tags,\r\n        category: preloadArticle.category,\r\n        backgroundURL: preloadArticle.backgroundURL,\r\n      });\r\n      setEditing(Boolean(props.selectedArticle));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, [props.selectedArticle]);\r\n\r\n  const handleSave = () => {\r\n    const blog = blogData;\r\n    blog.username = props.user.username;\r\n    blog.content = mdEditor.current.getMdValue();\r\n    blog.category = blog.category || 0;\r\n    Cookies.set('blogSaved', blog, { expires: 3 });\r\n    alert('Saved as Draft!');\r\n  };\r\n\r\n  const reset = () => {\r\n    setBlogData({});\r\n    mdEditor.current.setText('');\r\n  };\r\n\r\n  const handleGetMdValue = e => {\r\n    e.preventDefault();\r\n    const blog = blogData;\r\n    blog.content = mdEditor.current.getMdValue();\r\n    blog.username = props.user.username;\r\n    blog.userIcon = props.user.iconURL;\r\n    blog.category = blog.category || 0;\r\n\r\n    const url = editing ? `blogs/${props.selectedArticle._id}` : 'blogs/add';\r\n\r\n    if (editing) {\r\n      axios.put(url, blog)\r\n        .then(res => {\r\n          Cookies.remove('blogSaved');\r\n          props.updatePost({\r\n            ...blog,\r\n            _id: props.selectedArticle._id,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          alert(error);\r\n        });\r\n    }\r\n    else {\r\n      axios.post(url, blog)\r\n        .then(res => {\r\n          Cookies.remove('blogSaved');\r\n          props.addPost(res.data);\r\n        })\r\n        .catch(error => {\r\n          alert(error);\r\n        });\r\n    }\r\n    history.push('/');\r\n  };\r\n  const isMobile = window.matchMedia && window.matchMedia('(max-width: 1260px)').matches;\r\n  return (\r\n    <div style={{ minHeight: '100vh' }}>\r\n      <header className=\"header\" style={{ height: '60px' }}>\r\n        <div className=\"headerWrapper\" style={{ marginTop: '3px' }}>\r\n          <FiArrowLeft onClick={() => history.goBack()} style={{ position: 'relative', fontSize: '30px', marginTop: '8px' }} />\r\n          <nav className=\"navSession\" style={{ float: 'right', marginRight: '0' }}>\r\n            <div className=\"navItemContainer\" onClick={reset}>\r\n              <span className=\"navItem\">Reset</span>\r\n            </div>\r\n            <div className=\"navItemContainer\" onClick={handleSave}>\r\n              <span className=\"navItem\">Save</span>\r\n            </div>\r\n            <div className=\"navItemContainer\" onClick={handleGetMdValue}>\r\n              <span className=\"navItem\">Submit Post</span>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </header>\r\n      <section style={{ alignContent: 'center', paddingTop: '60px' }}>\r\n        <form onSubmit={() => handleGetMdValue()} style={{}}>\r\n          <div className=\"inputFormWrapper\">\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"Title\"\r\n              value={blogData.title}\r\n              onChange={e => setBlogData({ title: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"inputFormWrapper\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Tags (Optional)\"\r\n              value={blogData.tags}\r\n              onChange={e => setBlogData({ tags: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"inputFormWrapper\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Cover image URL (Optional)\"\r\n              value={blogData.backgroundURL}\r\n              onChange={e => setBlogData({ backgroundURL: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"inputFormWrapper\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Set category (0-4) (Optional)\"\r\n              value={blogData.category}\r\n              onChange={e => setBlogData({ category: e.target.value })}\r\n            />\r\n          </div>\r\n        </form>\r\n        <MdEditor\r\n          ref={mdEditor}\r\n          defaultValue={(props.selectedArticle && props.selectedArticle.content) || JSON.parse(Cookies.get('blogSaved') || 'null') && JSON.parse(Cookies.get('blogSaved') || 'null').content || 'Content'}\r\n          renderHTML={renderHTML}\r\n          config={{\r\n            view: {\r\n              menu: true,\r\n              md: true,\r\n              html: !isMobile,\r\n            },\r\n            imageUrl: 'https://octodex.github.com/images/minion.png',\r\n          }}\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addPost: post => {\r\n    dispatch(actions.addPost(post));\r\n  },\r\n  updatePost: post => {\r\n    dispatch(actions.updatePost(post));\r\n  },\r\n});\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.user.user,\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditorView);\r\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst motion = () => keyframes`\n  0% {\n      transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n  margin: 40vh auto;\n  width: 64px;\n  height: 64px;\n`;\n\nconst RingSpinner = styled.div`\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: ${p => `${p.size}${p.sizeUnit}`};\n  height: ${p => `${p.size}${p.sizeUnit}`};\n  margin: 6px;\n  border: 6px solid ${p => p.color};\n  border-radius: 50%;\n  animation: ${p => motion(p)} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: ${p => p.color} transparent transparent transparent;\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n`;\n\nconst Ring = ({ color, size, sizeUnit }) => (\n  <Wrapper>\n    <RingSpinner color={color} size={size} sizeUnit={sizeUnit} />\n  </Wrapper>\n);\n\nRing.defaultProps = {\n  size: 50,\n  color: '#009cd8',\n  sizeUnit: 'px',\n};\n\nexport default Ring;\n","/**\n * User Types\n */\nexport const DISPLAY_LOGIN = 'DISPLAY_LOGIN';\nexport const LOG_OUT = 'LOG_OUT';\n","/**\n * User Actions\n */\nimport * as types from './types';\n\nexport function displayLogin(user) {\n  return { type: types.DISPLAY_LOGIN, user };\n}\nexport function logout() {\n  return { type: types.LOG_OUT };\n}\n","import React, { useState, useReducer } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport Cookies from 'js-cookie';\nimport * as actions from '../store/user/actions';\n\nconst ERRORS = Object.freeze({\n  WRONG_PASSWORD: 0,\n  USER_DNE: 1,\n});\n\nconst LoginView = ({ displayLogin, handler }) => {\n  const [isLogin, setIsLogin] = useState(false);\n\n  const [form, dispatchForm] = useReducer(\n    (state, action) => ({ ...state, ...action }),\n    {\n      email: '',\n      password: '',\n      username: '',\n      iconURL: '',\n    }\n  );\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const switchRoute = isLogin ? 'login' : 'add';\n    const url = `users/${switchRoute}`;\n    let user;\n    if (isLogin) {\n      user = {\n        email: form.email,\n        password: form.password,\n      };\n    }\n    else {\n      user = {\n        email: form.email,\n        password: form.password,\n        username: form.username,\n        iconURL: form.iconURL || 'https://pbs.twimg.com/media/CdnxG1vXEAACpY7?format=jpg&name=240x240',\n      };\n    }\n\n    let serverResponse;\n\n    axios.post(url, user)\n      .then(res => {\n        serverResponse = res.data;\n        if (isLogin) {\n          if (serverResponse === ERRORS.WRONG_PASSWORD || serverResponse === ERRORS.USER_DNE) {\n            alert(serverResponse === ERRORS.WRONG_PASSWORD ? 'Wrong Password' : 'Email account does not exist');\n          }\n          else { // loggedIn is true\n            serverResponse = JSON.parse(serverResponse);\n            Cookies.set('loggedInUser', serverResponse, { expires: 1 });\n            displayLogin(serverResponse);\n            alert(`Logged in as ${serverResponse.username}`);\n          }\n        }\n        else {\n          Cookies.set('loggedInUser', user, { expires: 1 });\n          displayLogin(user);\n          alert(`Sign up successfully as ${user.username}`);\n        }\n      })\n      .catch(error => {\n        alert(error);\n      });\n\n    dispatchForm({\n      email: '',\n      password: '',\n      username: '',\n    });\n    handler();// to close the view\n  };\n\n  const switchMessage = isLogin ? 'Not having an account? ' : 'Got an account? ';\n  const switchLabel = isLogin ? 'Log in' : 'Sign up';\n  const usernameField = [\n    <div className=\"form-group\" key=\"usernameInputField\">\n      <input\n        type=\"text\"\n        required\n        className=\"form-control\"\n        placeholder=\"Username\"\n        value={form.username}\n        onChange={e => dispatchForm({ username: e.target.value })}\n        style={{ flexGrow: '1' }}\n      />\n    </div>,\n  ];\n  const iconURLField = [\n    <div className=\"form-group\">\n      <input\n        type=\"string\"\n        className=\"form-control\"\n        placeholder=\"User Icon URL (optional)\"\n        value={form.iconURL}\n        onChange={e => dispatchForm({ iconURL: e.target.value })}\n        style={{ flexGrow: '1' }}\n      />\n    </div>,\n  ];\n  return (\n    <div className=\"loginWrapper\">\n      <div className=\"loginCard\">\n        <div className=\"divider\">\n          <div className=\"tagLogin\">{switchLabel}</div>\n          <div className=\"crossIcon\" onClick={() => handler()} style={{ cursor: 'pointer' }}>\n            X\n          </div>\n        </div>\n        <form onSubmit={onSubmit} style={{}}>\n          {isLogin ? null : usernameField}\n          {' '}\n          {/* not displaying usernameField if login */}\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              required\n              className=\"form-control\"\n              placeholder=\"Email\"\n              value={form.email}\n              onChange={e => dispatchForm({ email: e.target.value })}\n              style={{ flexGrow: '1' }}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              required\n              className=\"form-control\"\n              placeholder=\"Password\"\n              value={form.password}\n              onChange={e => dispatchForm({ password: e.target.value })}\n              style={{ flexGrow: '1' }}\n            />\n          </div>\n          {isLogin ? null : iconURLField}\n          {' '}\n          {/* not displaying usernameField if login */}\n          <div className=\"form-group-submit\">\n            <input type=\"submit\" value={switchLabel} className=\"submitButton\" />\n          </div>\n          <div className=\"switchLogin\">\n            <p>{`${switchMessage} `}</p>\n            <div className=\"clickMe\" onClick={() => setIsLogin(!isLogin)}>{'Click me >.<'}</div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  displayLogin: user => {\n    dispatch(actions.displayLogin(user));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(LoginView);\n","import React from 'react';\n\nexport default function Author({\n  isArticle, tag, children, icon,\n}) {\n  return (\n    <div className={`author ${isArticle ? ' article' : ''}`}>\n      <img\n        className=\"icon\"\n        src={icon}\n        alt=\"icon\"\n      />\n      <p className=\"authorName\">{children}</p>\n      {\n        tag &&\n        tag.split(',').map(text => (\n          <div className=\"tagName\" key={text}>\n            {text}\n          </div>\n        ))\n      }\n    </div>\n  );\n}\n","import React from 'react';\nimport Author from './Author';\n\nexport default function TitleView({\n  icon, isArticle, tag, date, username, children,\n}) {\n  return (\n    <div className=\"titleWrapper\">\n      <Author icon={icon} isArticle={isArticle} tag={tag} date={date}>{username}</Author>\n      <div className=\"title\">{children}</div>\n    </div>\n  );\n}\n","const GRADIENT = [\n  'linear-gradient(112.52858610298631deg, rgba(37, 46, 58,1) 4.927083333333334%,rgba(71, 84, 99,1) 97.84374999999999%)',\n  'linear-gradient(-244.39781244855823deg, rgba(42, 39, 107,1) -1.7083333333333144%,rgba(186, 213, 241,1) 95.79166666666667%)',\n  'linear-gradient(114.44637446788136deg, rgba(167, 204, 225,1) 4.927083333333334%,rgba(236, 246, 237,1) 97.84374999999999%)',\n  'linear-gradient(-244.5986685971718deg, rgba(246, 190, 212,1) 18.22265625%,rgba(249, 231, 148,1) 94.07552083333333%)',\n];\nconst getGradient = index => GRADIENT[index];\nexport default getGradient;\n","import React, { useState, useReducer, useEffect } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport { slide as Menu } from 'react-burger-menu';\nimport { connect } from 'react-redux';\nimport Cookies from 'js-cookie';\nimport * as actions from '../store/user/actions';\nimport LoginView from './LoginView';\nimport TitleView from './TitleView';\nimport getGradient from '../functions/getGradient';\n\nconst navTags = ['All', 'Playground', 'Learning', 'ACG', 'Time Machine'];\n\nconst HeaderView = (props, { isArticleView }) => {\n  const [displayLogin, setDisplayLogin] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [scrollPosition, setScrollPosition] = useState(0);\n\n  const [navClicked, setNavClicked] = useReducer(\n    (state, active) => Object.keys(state).reduce(\n      (result, nav) => ({ ...result, [nav]: active === nav }),\n      {}\n    ),\n    {\n      all: true,\n    }\n  );\n\n  const tagOnclick = index => {\n    if (props.isArticleView) {\n      props.updateCategory(index - 1);\n      props.goBack();\n    }\n    else props.updateCategory(index - 1);\n    setMenuOpen(false);\n  };\n\n  const iconOnclickAction = () => {\n    if (props.user.loggedIn) {\n      props.userIconOnclick();\n    }\n    else {\n      window.scrollTo(0, 0);\n      setDisplayLogin(true);\n    }\n  };\n\n  const listenToScroll = () => {\n    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    setScrollPosition(winScroll);\n  };\n\n  const NavElements = () => (\n    navTags.map((tag, index) => (\n      <div className={navClicked[tag] ? 'navItemContainerClicked' : 'navItemContainer'} onClick={() => [setNavClicked(tag), tagOnclick(index)]} key={tag}>\n        <span className=\"navItem\">{tag}</span>\n      </div>\n    ))\n  );\n\n  useEffect(() => {\n    if (props.isArticleView) {\n      window.addEventListener('scroll', listenToScroll);\n    }\n    const userString = Cookies.get('loggedInUser');\n    if (userString != null) {\n      const user = JSON.parse(userString);\n      props.displayLogin(user); // dispatch user info into redux\n    }\n    return (() => window.removeEventListener('scroll', listenToScroll));\n  }, []);\n\n  if (props.isArticleView) {\n    return (\n      <header className=\"header\" style={{ position: 'relative' }}>\n        <div\n          className=\"backgroundArticle\"\n          style={\n            props.selectedArticle.backgroundURL === '' ?\n              { background: getGradient(props.selectedArticle.category) } :\n              { backgroundImage: `linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3) ), url(${props.selectedArticle.backgroundURL})` }\n          }\n        />\n        <div className={`articleNavBackground${scrollPosition > 400 ? ' short' : ''}`} />\n        <div className=\"headerWrapper\">\n          <TitleView\n            icon={props.selectedArticle.userIcon}\n            username={props.selectedArticle.username}\n            isArticle={props.isArticleView}\n            tag={props.selectedArticle.tags}\n            date={props.selectedArticle.createdAt}\n          >\n            {props.selectedArticle.title}\n          </TitleView>\n        </div>\n      </header>\n    );\n  }\n  return (\n    <div>\n      <header className=\"header home\">\n        <div className=\"headerWrapper\" style={{}}>\n          <div className=\"logoWrapper\" onClick={iconOnclickAction}>\n            {props.user.loggedIn ?\n              <img src={props.user.user.iconURL} alt={props.user.user.username} className=\"headerIcon\" style={{ cursor: 'pointer' }} /> :\n              <img src=\"https://upload.wikimedia.org/wikipedia/commons/d/dc/Knockoff_Little_Totoro.svg\" alt=\"\" className=\"siteLogo\" style={{ cursor: 'pointer' }} />}\n          </div>\n          {\n            isMobile ?\n              <Menu\n                key=\"menu\"\n                right\n                noOverlay\n                isOpen={menuOpen}\n                onStateChange={state => setMenuOpen(state.isOpen)}\n                onClick={() => setMenuOpen(false)}\n              >\n                {NavElements()}\n              </Menu> :\n\n              <nav className=\"navSession\">\n                {NavElements()}\n              </nav>\n\n          }\n        </div>\n      </header>\n      {displayLogin ? <LoginView handler={() => setDisplayLogin(false)} /> : null}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n  };\n}\nconst mapDispatchToProps = dispatch => ({\n  displayLogin: user => {\n    dispatch(actions.displayLogin(user));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderView);\n","import React from 'react';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { github, darcula } from 'react-syntax-highlighter/dist/esm/styles/hljs';\n\nconst CodeBlock = ({ language, value }) => {\n  const darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n  const theme = darkMode ? darcula : github;\n  return (\n    <SyntaxHighlighter language={language} style={theme}>\n      {value}\n    </SyntaxHighlighter>\n  );\n};\n\nexport default CodeBlock;\n","import React, { useState, useEffect } from 'react';\nimport * as Markdown from 'react-markdown';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AiOutlineDelete } from 'react-icons/ai';\nimport { FiArrowLeft, FiEdit } from 'react-icons/fi';\nimport EditorView from './EditorView';\nimport Ring from './Ring';\nimport HeaderView from './HeaderView';\nimport CodeBlock from './CodeBlock';\nimport * as actions from '../store/blog/actions';\n\nconst dataFormatting = n => (n > 9 ? `${n}` : `0${n}`);\nconst toDDMMMYYYY = date => (`${date.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' }).replace(/ /g, ' ')} ${dataFormatting(date.getHours())}:${dataFormatting(date.getMinutes())}`);\n\nMarkdown.propTypes = {\n  value: PropTypes.string.isRequired,\n};\n\nconst Image = props => (<img {...props} style={{ maxWidth: '100%' }} />);\n\nconst ArticleView = props => {\n  const history = useHistory();\n  const selectedArticleID = useParams().id;\n  const [comments, setComments] = useState([]);\n  const [commentInput, setCommentInput] = useState('');\n  const [editing, setEditing] = useState(false);\n\n  const loadComments = () => {\n    // Load Comments\n    const url = 'comments/';\n\n    axios.post(url, { article_id: selectedArticleID })\n      .then(res => setComments(res.data))\n      .catch(error => {\n        alert(error);\n      });\n  };\n\n  useEffect(() => {\n    loadComments();\n    window.scrollTo(0, 0);\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault(); // to prevent auto refresh due to form submit\n\n    const url = 'comments/add';\n\n    const comment = {\n      content: commentInput,\n      username: props.user.username,\n      userIcon: props.user.iconURL,\n      article_id: selectedArticleID,\n    };\n\n    axios.post(url, comment)\n      .then(() => {\n        setCommentInput('');\n        loadComments();\n      })\n      .catch(error => {\n        alert(error);\n      });\n  };\n\n  const deletePost = () => {\n    const url = 'blogs/delete';\n    axios.post(url, { article_id: selectedArticleID })\n      .then(res => {\n        if (res.data) {\n          history.push('/');\n          props.deletePost(res.data);\n        }\n        else {\n          alert(res.data);\n        }\n      })\n      .catch(error => {\n        alert(error);\n      });\n\n    const urlComment = 'comments/deleteAll';\n    axios.post(urlComment, { article_id: selectedArticleID })// to delete all associated comments\n      .then(() => {})\n      .catch(error => {\n        console.warn(error);\n      });\n  };\n\n  const deleteComment = id => {\n    const url = 'comments/delete';\n\n    axios.post(url, { comment_id: id })\n      .then(res => {\n        if (res.data === true) {\n          loadComments();\n        }\n        else {\n          alert(res.data);\n        }\n      })\n      .catch(error => {\n        alert(`Please Login Before Comment \\n${error}`);\n      });\n  };\n\n  const selectedArticle = props.blog.posts.find(post => post._id === selectedArticleID);\n  if (editing) {\n    return (\n      <EditorView goBack={() => setEditing(false)} selectedArticle={selectedArticle} />\n    );\n  }\n  if (props.blog.loading) {\n    return (<Ring />);\n  }\n  return (\n    <div className=\"article\">\n      <HeaderView\n        updateCategory={props.updateCategory}\n        goBack={props.goBack}\n        isArticleView\n        selectedArticle={selectedArticle}\n        articleIndex={props.blog.posts.findIndex(post => post._id === selectedArticleID)}\n      />\n      <div>\n        <div className=\"contentWrapper\">\n          <div className=\"articleNavInner\" style={{ width: '90%', color: 'white' }}>\n            <Link to=\"/\">\n              <FiArrowLeft\n                style={{\n                  cursor: 'pointer', zIndex: 100, position: 'relative', fontSize: '30px', marginTop: '12px',\n                }}\n              />\n            </Link>\n            {\n              selectedArticle.username === props.user.username &&\n              (\n                <>\n                  <FiEdit\n                    onClick={() => setEditing(!editing)}\n                    style={{\n                      paddingLeft: '20px', float: 'right', cursor: 'pointer', color: 'white', zIndex: 100, fontSize: '25px', marginTop: '15px',\n                    }}\n                  />\n                  <AiOutlineDelete\n                    onClick={deletePost}\n                    style={{\n                      float: 'right', cursor: 'pointer', color: 'white', zIndex: 100, fontSize: '30px', marginTop: '12px',\n                    }}\n                  />\n                </>\n              )\n            }\n          </div>\n          <div className=\"blogWrapper\">\n            <div className=\"blog\">\n              <Markdown escapeHtml={false} renderers={{ code: CodeBlock, image: Image }} source={selectedArticle.content} style={{ whiteSpace: 'initial' }} />\n            </div>\n          </div>\n          <div className=\"replyBackground\">\n            <div className=\"replyWrapper\">\n              <div className=\"replyTag\">Replies:</div>\n              {\n                comments.map(comment => (\n                  <div style={{ cursor: 'auto', marginTop: '30px' }} className=\"blockWrapper reply\">\n                    <div className=\"blockInnerWrapper\" style={{ padding: '5px 8px' }}>\n                      <div className=\"author\">\n                        <img className=\"icon\" src={comment.userIcon} alt=\"icon\" />\n                        <p className=\"authorName\">{comment.username}</p>\n                        <div className=\"tagName\">{toDDMMMYYYY(new Date(comment.createdAt))}</div>\n                        {\n                          comment.username === props.user.username &&\n                          <div\n                            onClick={() => deleteComment(comment._id)}\n                            style={{\n                              cursor: 'pointer', float: 'right', width: '16px', height: '16px', marginLeft: 'auto', marginTop: '10px',\n                            }}\n                          >\n                            <AiOutlineDelete />\n                          </div>\n                        }\n                      </div>\n                      <div\n                        className=\"blockContent\"\n                        style={{\n                          margin: '10px 7px', maxHeight: 'none', textOverflow: 'clip', whiteSpace: 'normal', overflow: 'visible',\n                        }}\n                      >\n                        {comment.content}\n                      </div>\n                    </div>\n                  </div>\n                ))\n              }\n              <form onSubmit={onSubmit}>\n                <div className=\"form-group\" style={{ width: '100%' }}>\n                  <textarea\n                    required\n                    className=\"form-control\"\n                    placeholder={props.user.username ? '偉論' : 'Please login before posting comment'}\n                    value={commentInput}\n                    onChange={e => setCommentInput(e.target.value)}\n                    disabled={!props.user.username}\n                    style={{ flexGrow: '1', minHeight: '60px' }}\n                  />\n                </div>\n                <div className=\"form-group-submit\" style={{ width: '100%' }}>\n                  <input type=\"submit\" value=\"Submit\" className=\"submitButton\" />\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  deletePost: id => {\n    dispatch(actions.deletePost(id));\n  },\n});\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    blog: state.blog,\n    user: state.user.user || {},\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleView);\n","import React from 'react';\nimport Author from './Author';\nimport getGradient from '../functions/getGradient';\n\nconst toDDMMMYYYY = date => (date.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' }).replace(/ /g, ' '));\n\nexport default function Block({\n  tag, date, icon, username, content, background, title, category,\n}) {\n  const hasCover = (background !== '0' && background !== '');\n  return (\n    <>\n      <div\n        key={`${date}-${title}`}\n        className={`blockCover${hasCover ? '' : ' noImage'}`}\n        style={\n          hasCover ?\n            { backgroundPosition: 'center', backgroundImage: `linear-gradient( rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1) ), url(${background})` } :\n            { background: getGradient(category) }\n        }\n      />\n      <span>\n        <Author tag={tag} icon={icon}>{username}</Author>\n        <div className=\"blockTitle\">{title}</div>\n        <div className=\"blockContent\">{content.split(/\\n/).map((p, i) => i < 4 && p !== '' && `${p.replace(/#|\\*|!\\[\\]|>|^\\s*\\n/gm, '').replace(/^\\s/m, '')}\\n`)}</div>\n        <span>{toDDMMMYYYY(new Date(date))}</span>\n      </span>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport Block from './Block';\nimport HeaderView from './HeaderView';\nimport Ring from './Ring';\nimport * as actions from '../store/blog/actions';\n\nconst BlockView = props => {\n  const [ended, setEnded] = useState(false);\n  const [displayUserIconMenu, setDisplayUserIconMenu] = useState(false);\n  const [category, setCategory] = useState(-1);\n\n  const listenToScroll = () => {\n    const distanceFromBottom = document.documentElement.scrollHeight - document.documentElement.scrollTop - document.documentElement.clientHeight;\n    if (distanceFromBottom <= 100) {\n      window.removeEventListener('scroll', listenToScroll);\n      if (!props.blog.loaded) {\n        const url = 'blogs/';\n\n        const skipJSON = {\n          dateBefore: props.blog.posts[props.blog.posts.length - 1].createdAt,\n        };\n\n        axios.post(url, skipJSON)\n          .then(res => {\n            if (res.data && res.data.length) {\n              // console.warn(\"server return: \"+res.data);\n              props.loadBlogSuccess(res.data);\n              window.addEventListener('scroll', listenToScroll);\n            }\n            else {\n              setEnded(true);\n              props.allLoaded();\n            }\n          })\n          .catch(error => {\n            alert(error);\n          });\n      }\n    }\n  };\n\n  const loadMore = () => {\n    const url = 'blogs/';\n\n    const skipJSON = {\n      dateBefore: props.blog.posts[props.blog.posts.length - 1].createdAt,\n    };\n\n    axios.post(url, skipJSON)\n      .then(res => {\n        if (res.data && res.data.length) {\n          // console.warn(\"server return: \"+res.data);\n          props.loadBlogSuccess(res.data);\n          window.addEventListener('scroll', listenToScroll);\n        }\n        else {\n          setEnded(true);\n          props.allLoaded();\n        }\n      })\n      .catch(error => {\n        alert(error);\n      });\n  };\n\n  const logout = () => {\n    props.logout();\n    setCategory(-1);\n    Cookies.remove('loggedInUser');\n    setDisplayUserIconMenu(false);\n    alert('Logged out successfully!');\n  };\n\n  const addPostOnclick = () => {\n    setDisplayUserIconMenu(false);\n  };\n\n  useEffect(() => {\n    if (props.blog.loaded) {\n      setEnded(true);\n    }\n    else if (props.blog.loading === false) {\n      window.addEventListener('scroll', listenToScroll);\n    }\n    return (() => window.removeEventListener('scroll', listenToScroll));\n  }, [props.blog, listenToScroll]);\n\n  return (\n    <div>\n      {\n        displayUserIconMenu &&\n        <div className=\"userMenuContainer\">\n          <div mode=\"inline\" className=\"menuWrapper\">\n            <Link to=\"/edit\" className=\"menuItem\" key=\"Add Post\" onClick={addPostOnclick}>Add Post</Link>\n            <div className=\"menuItem\" key=\"View My Posts\" onClick={() => [setCategory(category === -2 ? -1 : -2), setDisplayUserIconMenu(false)]}>View My Posts</div>\n            <div className=\"menuItem\" key=\"Log Out\" onClick={logout}>Log Out</div>\n          </div>\n        </div>\n      }\n      <HeaderView\n        cookies={props.cookies}\n        updateCategory={setCategory}\n        isArticleView={false}\n        userIconOnclick={() => setDisplayUserIconMenu(!displayUserIconMenu)}\n      />\n      <div className=\"blockView\">\n        {\n          props.blog.loading ?\n            <Ring /> :\n            props.blog.posts\n              .filter(post =>\n                category === post.category || category === -1 || (category === -2 && props.user.user.username === post.username)\n              )\n              .map(post => (\n                <Link\n                  key={post._id}\n                  className=\"blockWrapper\"\n                  to={{\n                    pathname: `/article/${post._id}`,\n                    index: props.blog.posts.findIndex(postItem => postItem.createdAt === post.createdAt),\n                  }}\n                >\n                  <Block\n                    category={post.category}\n                    tag={post.tags}\n                    date={post.createdAt}\n                    icon={post.userIcon}\n                    username={post.username}\n                    key={post.createdAt}\n                    content={post.content}\n                    background={post.backgroundURL}\n                    articleIndex={props.blog.posts.findIndex(postItem => postItem.createdAt === post.createdAt)}\n                    title={post.title}\n                  />\n                </Link>\n              ))\n        }\n      </div>\n      {\n        ended &&\n        <div className=\"end\">-END-</div>\n      }\n      {\n        (!ended && !props.blog.loading) &&\n        <div className=\"end\" onClick={loadMore} style={{ cursor: 'pointer' }}>Load More</div>\n      }\n    </div>\n  );\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    blog: state.blog,\n    user: state.user,\n  };\n}\n\nconst mapDispatchToProps = dispatch => ({\n  blogLoading: () => {\n    dispatch(actions.blogLoading());\n  },\n  loadBlogSuccess: posts => {\n    dispatch(actions.loadBlogSuccess(posts));\n  },\n  allLoaded: () => {\n    dispatch(actions.allLoaded());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlockView);\n","import React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport ArticleView from './components/ArticleView';\nimport BlockView from './components/BlockView';\nimport EditorView from './components/EditorView';\nimport * as actions from './store/user/actions';\n\nconst App = props => (\n  <div className=\"app\">\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <BlockView\n            {...props}\n          />\n        </Route>\n        <Route exact path=\"/article/:id\">\n          <ArticleView {...props} />\n        </Route>\n        <Route exact path=\"/edit\">\n          <EditorView {...props} />\n        </Route>\n      </Switch>\n    </Router>\n  </div>\n);\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => {\n    dispatch(actions.logout());\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","export default {\n  blog: {\n    loading: false,\n    posts: [],\n    loaded: false,\n  },\n  user: {\n    loggedIn: false,\n    user: [],\n  },\n};\n","import { combineReducers } from 'redux';\nimport blog from './blog/reducer';\nimport user from './user/reducer';\n\nconst rootReducer = combineReducers({\n  blog,\n  user,\n});\n\nexport default rootReducer;\n","/**\n * Blog Reducer\n */\nimport initialState from '../initialState';\nimport * as types from './types';\n\nexport default function blogReducer(state = initialState.blog, action) {\n  switch (action.type) {\n    case types.BLOG_LOADING:\n      return {\n        ...state,\n        loading: action.isLoading,\n      };\n    case types.LOAD_BLOG_SUCCESS:\n      return {\n        ...state,\n        posts: state.posts.concat(action.posts),\n        loading: false,\n      };\n    case types.ALL_LOADED:\n      return {\n        ...state,\n        loaded: true,\n      };\n    case types.ADD_POST:\n      return {\n        ...state,\n        posts: [action.post].concat(state.posts),\n      };\n    case types.UPDATE_POST: {\n      return {\n        ...state,\n        posts: state.posts.map(post => post._id === action.post._id ?\n          { ...post, ...action.post } :\n          post\n        ),\n      }; }\n    case types.DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(post => post._id !== action.id),\n      };\n    default:\n      return state;\n  }\n}\n","/**\n * User Reducer\n */\nimport initialState from '../initialState';\nimport * as types from './types';\n\nexport default function userReducer(state = initialState.user, action) {\n  switch (action.type) {\n    case types.DISPLAY_LOGIN:\n      return {\n        ...state,\n        user: action.user,\n        loggedIn: true,\n      };\n    case types.LOG_OUT:\n      return {\n        state,\n      };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { register } from 'register-service-worker';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport App from './App';\nimport { configureStore } from './store';\nimport loadBlog from './store/Blog';\n\naxios.defaults.baseURL = 'https://nhfxrk08p1.execute-api.ap-northeast-1.amazonaws.com/dev/';\n// axios.defaults.headers.common.Authorization = AUTH_TOKEN;\n\nconst skipJSON = { dateBefore: '2030-05-17T12:18:08.801+00:00' };\nconst store = configureStore();\nstore.dispatch(loadBlog(skipJSON));\nReactDOM.render(\n  (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  ),\n  document.getElementById('root')\n);\nregister();\n","import axios from 'axios';\nimport * as actions from './blog/actions';\n\nconst url = 'blogs/';\n\nexport default function loadBlog(skipJSON) {\n  return async dispatch => {\n    dispatch(actions.blogLoading());\n    try {\n      const res = await axios.post(url, skipJSON);\n      dispatch(actions.loadBlogSuccess(res.data));\n    }\n    catch (error) {\n      console.log(error);\n      dispatch(actions.blogLoading(false));\n    }\n  };\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './rootReducer';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function configureStore() {\n  return createStore(\n    rootReducer,\n    composeWithDevTools(\n      applyMiddleware(\n        thunk,\n        reduxImmutableStateInvariant()\n      )\n    )\n  );\n}\n"],"sourceRoot":""}